
<h2>Tournament Stats</h2>
<div id="tournament-container">Loading Tournament Data...</div>
<div id="tournament-chart" style="width:100%; height:400px;"></div>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script>
google.charts.load('current', {packages:['corechart', 'bar']});
async function drawTournamentChart() {
    const url = 'https://docs.google.com/spreadsheets/d/e/DUMMY_ID_TOURNAMENT/pub?gid=0&single=true&output=csv';
    const response = await fetch(url);
    const text = await response.text();
    const rows = text.split('\n').map(r => r.split(','));
    let dataArray = [['Player', 'X Multiplier']];
    for (let i = 1; i < rows.length; i++) {
        if (rows[i].length < 5) continue;
        const player = rows[i][0];
        const multiplier = parseFloat(rows[i][4]) || 0;
        dataArray.push([player, multiplier]);
    }
    const data = google.visualization.arrayToDataTable(dataArray);
    const options = {
        title: 'Tournament Multipliers',
        backgroundColor: '#0f1115',
        titleTextStyle: {color: '#0ff'},
        legend: {textStyle: {color: '#fff'}},
        hAxis: {textStyle: {color: '#fff'}},
        vAxis: {textStyle: {color: '#fff'}}
    };
    const chart = new google.visualization.BarChart(document.getElementById('tournament-chart'));
    chart.draw(data, options);
}
google.charts.setOnLoadCallback(drawTournamentChart);
setInterval(drawTournamentChart, 30000);
</script>

<script>
function debugFetch(url) {
    console.log('[DEBUG FETCH]', url);
}
</script>
