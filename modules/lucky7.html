
<h2>Lucky 7 Tracker</h2>
<div id="lucky7-container">Loading Lucky 7 data...</div>
<div id="lucky7-chart" style="width:100%; height:400px;"></div>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script>
google.charts.load('current', {packages:['corechart', 'bar']});
async function drawLucky7Chart() {
    const url = 'https://docs.google.com/spreadsheets/d/e/DUMMY_ID_LUCKY7/pub?gid=0&single=true&output=csv';
    const response = await fetch(url);
    const text = await response.text();
    const rows = text.split('\n').map(r => r.split(','));
    let dataArray = [['Player', 'Points']];
    for (let i = 1; i < rows.length; i++) {
        if (rows[i].length < 5) continue;
        const player = rows[i][0];
        const points = parseFloat(rows[i][4]) || 0;
        dataArray.push([player, points]);
    }
    const data = google.visualization.arrayToDataTable(dataArray);
    const options = {
        title: 'Lucky 7 Points',
        backgroundColor: '#0f1115',
        titleTextStyle: {color: '#0ff'},
        legend: {textStyle: {color: '#fff'}},
        hAxis: {textStyle: {color: '#fff'}},
        vAxis: {textStyle: {color: '#fff'}}
    };
    const chart = new google.visualization.ColumnChart(document.getElementById('lucky7-chart'));
    chart.draw(data, options);
}
google.charts.setOnLoadCallback(drawLucky7Chart);
setInterval(drawLucky7Chart, 30000);
</script>

<script>
function debugFetch(url) {
    console.log('[DEBUG FETCH]', url);
}
</script>
