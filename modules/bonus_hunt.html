
<h2>Mega Hunt</h2>
<div id="mega-hunt-container">Loading data...</div>
<div id="bonus-hunt-chart" style="width:100%; height:400px;"></div>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script>
google.charts.load('current', {packages:['corechart', 'bar']});
async function drawBonusHuntChart() {
    const url = 'https://docs.google.com/spreadsheets/d/e/DUMMY_ID_BONUS_HUNT/pub?gid=0&single=true&output=csv';
    const response = await fetch(url);
    const text = await response.text();
    const rows = text.split('\n').map(r => r.split(','));
    let dataArray = [['Game', 'Average X']];
    for (let i = 1; i < rows.length; i++) {
        if (rows[i].length < 4) continue;
        const game = rows[i][0];
        const multiplier = parseFloat(rows[i][3]) || 0;
        dataArray.push([game, multiplier]);
    }
    const data = google.visualization.arrayToDataTable(dataArray);
    const options = {
        title: 'Bonus Hunt Average X',
        backgroundColor: '#0f1115',
        titleTextStyle: {color: '#0ff'},
        legend: {textStyle: {color: '#fff'}},
        hAxis: {textStyle: {color: '#fff'}},
        vAxis: {textStyle: {color: '#fff'}}
    };
    const chart = new google.visualization.ColumnChart(document.getElementById('bonus-hunt-chart'));
    chart.draw(data, options);
}
google.charts.setOnLoadCallback(drawBonusHuntChart);
setInterval(drawBonusHuntChart, 30000);
</script>

<script>
function debugFetch(url) {
    console.log('[DEBUG FETCH]', url);
}
</script>
