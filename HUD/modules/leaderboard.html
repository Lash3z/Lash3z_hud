<h2>Leaderboard (Test v5)</h2>
<table style="width:100%; border-collapse: collapse;">
  <thead>
    <tr style="background:#222;">
      <th style="border: 1px solid #0ff; padding: 6px;">Username</th>
      <th style="border: 1px solid #0ff; padding: 6px;">Points</th>
    </tr>
  </thead>
  <tbody id="leaderboard-body">
    <tr><td>Player1</td><td>120</td></tr>
    <tr><td>Player2</td><td>85</td></tr>
    <tr><td>Player3</td><td>60</td></tr>
    <tr><td>Player4</td><td>150</td></tr>
    <tr><td>Player5</td><td>95</td></tr>
    <tr><td>Player6</td><td>110</td></tr>
    <tr><td>Player7</td><td>130</td></tr>
    <tr><td>Player8</td><td>70</td></tr>
    <tr><td>Player9</td><td>50</td></tr>
    <tr><td>Player10</td><td>200</td></tr>
  </tbody>
</table>

<script>
const GOOGLE_SHEET_URL = 'https://script.google.com/macros/s/REPLACE_WITH_SCRIPT_ID/exec?action=readLeaderboard';

async function fetchLeaderboard() {
  const tbody = document.getElementById('leaderboard-body');
  tbody.innerHTML = '<tr><td colspan="2">Loading...</td></tr>';
  try {
    const response = await fetch(GOOGLE_SHEET_URL);
    const data = await response.json();
    updateLeaderboard(data);
  } catch (error) {
    console.error('Error fetching leaderboard:', error);
    tbody.innerHTML = '<tr><td colspan="2">Error loading data.</td></tr>';
  }
}

function updateLeaderboard(data) {
  const tbody = document.getElementById('leaderboard-body');
  tbody.innerHTML = '';
  data.forEach(player => {
    const row = document.createElement('tr');
    row.innerHTML = `<td>${player.username}</td><td>${player.points}</td>`;
    tbody.appendChild(row);
  });
  updateTimestamp();
}

window.onload = fetchLeaderboard;
</script>
